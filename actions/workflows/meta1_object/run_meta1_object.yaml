---
version: 1.0
description: manipulate arrays and objects
input: 
  - my_array
  - my_object

vars:
  - temp: nil 

output:
  - result: <% ctx().my_array %>

tasks: 
  print_array:
    action: core.local
    input: 
      # work - cmd: "echo array = <% ctx().my_array %>"
      cmd: "echo array = <% ctx().my_array[0] ctx().my_array[2] %>"
    next: 
      - when: <% succeeded() %> 
        publish:
          - temp: <% ctx().my_array %>
        do: print_object
  
  print_object:
    action: core.local
    input: 
      # work - cmd: "echo object = <% ctx().my_object %>"
      cmd: "echo object = <% ctx().my_object['key2'] %>"